!function(){"use strict";class e{constructor(){this.bottomEl=document.querySelector(".main-header__bottom"),this.mobileBurgerEl=document.querySelector(".main-header__mobile-burger"),this.mobileMenuEl=document.querySelector(".main-header__mobile-menu"),this.popUpOverlayEl=document.querySelector(".pop-up__overlay"),this.linkElems=document.querySelectorAll(".main-header__link"),this.mainHeaderEl=document.querySelector(".main-header"),this.sectionsElems=document.querySelectorAll("header, section, footer")}init(){this.setMobileMenuHeight(),this.setMobileMenuTop(),this.addWindowScrollListener(),this.addMobileBurgerClickListener(),this.addLinksClickListener(),this.addWindowResizeListener()}addWindowResizeListener(){window.addEventListener("resize",()=>{this.setMobileMenuHeight(),this.setMobileMenuTop()})}setMobileMenuHeight(){var e=window.innerHeight,t=this.mainHeaderEl.clientHeight;this.mobileMenuEl.clientHeight<e-t&&(this.mobileMenuEl.style.height=e-t+"px")}setMobileMenuTop(){var e=this.mainHeaderEl.clientHeight;this.mobileMenuEl.style.top=e+"px"}addWindowScrollListener(){window.addEventListener("scroll",()=>{this.setPinnedMenu(),this.highlightNameOfCurrentSection()})}setPinnedMenu(){100<window.scrollY&&this.bottomEl.classList.contains("default")?(this.bottomEl.classList.remove("default"),this.bottomEl.classList.add("fixed")):window.scrollY<=100&&this.bottomEl.classList.contains("fixed")&&(this.bottomEl.classList.add("default"),this.bottomEl.classList.remove("fixed"))}highlightNameOfCurrentSection(){this.sectionsElems.forEach(e=>{var t=e.getBoundingClientRect(),i=t.top+window.pageYOffset-this.bottomEl.offsetHeight,t=i+t.height,s=window.pageYOffset,e=e.getAttribute("id"),l=this.bottomEl.querySelector("a.active"),e=document.querySelector(`a[data-section="${e}"]`);i<s&&s<t&&(l&&l.classList.remove("active"),e)&&e.classList.add("active")})}addMobileBurgerClickListener(){this.mobileBurgerEl.addEventListener("click",()=>{this.popUpOverlayEl.classList.toggle("active-mobile-menu"),this.mobileMenuEl.classList.toggle("active"),this.mobileBurgerEl.classList.toggle("cross"),this.mainHeaderEl.classList.toggle("active"),this.addPopUpOverlayElClickListener()})}addLinksClickListener(){this.linkElems.forEach(e=>{e.addEventListener("click",()=>{this.popUpOverlayEl.classList.remove("active-mobile-menu"),this.mobileMenuEl.classList.remove("active"),this.mobileBurgerEl.classList.remove("cross"),this.mainHeaderEl.classList.remove("active")})})}addPopUpOverlayElClickListener(){this.popUpOverlayEl.addEventListener("click",e=>{e.target==this.popUpOverlayEl&&(this.popUpOverlayEl.classList.remove("active-mobile-menu"),this.mobileMenuEl.classList.remove("active"),this.mobileBurgerEl.classList.remove("cross"),this.mainHeaderEl.classList.remove("active"))})}}window.addEventListener("load",()=>{(new e).init()})}();