!function(){"use strict";class e{constructor(){this.buttonEl=document.querySelector(".calculator__button"),this.inputPhoneEl=document.querySelector(".calculator .mask-phone"),this.errorPhone=document.querySelector(".calculator__error-phone"),this.serviceEmptyEl=document.querySelector(".service-empty"),this.formEl=document.querySelector(".calculator__form")}init(e){this.addButtonClickListener(),this.addMaskPhone(),this.loadServicesInSelect(e),this.addSelectizeService(),this.checkComplianceWithPolicy()}addButtonClickListener(){this.buttonEl.addEventListener("click",()=>{""==this.inputPhoneEl.value?this.errorPhone.style.display="block":this.errorPhone.style.display="none"})}addMaskPhone(){$(".calculator .mask-phone").mask("+9999999999?99"),$(".calculator .mask-phone").on("keyup",function(){var e=$(".calculator .mask-phone").val().match(/\d+/g).join("").length;10<=e&&e<=12&&$(".calculator__error-phone").css("display","none")})}loadServicesInSelect(e){let t="";for(var o of e)t+=`<option value="${o.name}">${o.name}</option>`;this.serviceEmptyEl.insertAdjacentHTML("afterend",t)}addSelectizeService(){$("#service").selectize({placeholder:"Укажите нужную услугу\t"})}checkComplianceWithPolicy(){let t=this.formEl.querySelector(".policy__checkbox"),e=this.formEl.querySelector(".policy__error");this.formEl.addEventListener("submit",e=>{0==t.checked&&e.preventDefault()}),t.addEventListener("click",()=>{1==t.checked?e.style.display="none":e.style.display="block"})}}window.addEventListener("load",()=>{(new e).init(services)})}();